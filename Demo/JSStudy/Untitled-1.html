<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>DOM事件监听器</title>
	<style>
		#mydiv{
			width: 400px;
			height: 250px;
			background: #E89216;
		}
	</style>
</head>

<body>
	<h2>addEventListener()方法</h2>
	<p>尝试调整此浏览器窗口的大小以触发"resize"事件处理程序。</p>
	<button id="bt1">点击</button>
	<button id="bt2">点击1</button>
	<button id="bt3">点击2</button>
	<button id="bt4">点击3</button>
	<button id="bt5">计算</button>
	<p id="demo"></p>
	<div id="mydiv">
		<p>这个div元素有一个onmousemove事件处理程序，每次在这个div中移动鼠标，都会获得一个随机数</p>
		<button onClick="removeHandler()" id="bt6">删除</button>
	</div>
	
	<script>
		//注意，两个按钮的函数引用方式不同
		document.getElementById("bt1").addEventListener("click",displayDate);
		
		function displayDate(){
			document.getElementById("demo").innerHTML = Date();
		}
		//向元素添加事件处理程序
		document.getElementById("bt2").addEventListener("click",function(){
			alert("hello 使用 addEventListener() 方法将 click 事件附加到按钮");
		})
		//向同一元素添加多个事件
		var x = document.getElementById("bt3");
		x.addEventListener("click",myfunction);
		x.addEventListener("click",myfunction1);
		function myfunction(){
			alert("这是第一个事件");
		}
		function myfunction1(){
			alert("这是第二个事件");
		}
		//向相同元素添加不同类型的事件
		var y = document.getElementById("bt4");
		y.addEventListener("mouseover",myfunction2);
		y.addEventListener("click",myfunction3);
		y.addEventListener("mouseout",myfunction4);
		function myfunction2(){
			document.getElementById("demo").innerHTML += "鼠标滑过<br>";
		}
		function myfunction3(){
			alert("点击了！");
		}
		function myfunction4(){
			document.getElementById("demo").innerHTML += "这是鼠标移出<br>";
		}
		//向 Window 对象添加事件处理程序
		window.addEventListener("resize",function(){
			document.getElementById("demo").innerHTML = "向 Window 对象添加事件处理程序"
		})
		//使用 addEventListener() 方法时传递参数值
		var p1 = 5;
		var p2 = 7;
		document.getElementById("bt5").addEventListener("click",function(){
			//当传递参数值时，请以参数形式使用调用指定函数的"匿名函数"
			myfunction5(p1,p2);
		});
		function myfunction5(a,b){
			var result = a * b;
			document.getElementById("demo").innerHTML = result;
		}
		//removeEventListener() 方法会删除已通过 addEventListener() 方法附加的事件处理程序
		document.getElementById("mydiv").addEventListener("mousemove",myfunction6);
		function myfunction6(){
			document.getElementById("demo").innerHTML = Math.random();
		}
		function removeHandler(){
			document.getElementById("mydiv").removeEventListener("mousemove",myfunction6);
			alert("已经删除事件了");
		}
	</script>
</body>
</html>
